(this["webpackJsonpmedda-dz"]=this["webpackJsonpmedda-dz"]||[]).push([[0],{426:function(e,t,a){e.exports=a.p+"static/media/undraw_resume_folder.1db8e677.png"},427:function(e,t,a){e.exports=a.p+"static/media/authentication.5911f723.svg"},428:function(e,t,a){e.exports=a.p+"static/media/doctors.8cad16d7.svg"},494:function(e,t,a){e.exports=a(659)},501:function(e,t,a){},635:function(e,t,a){e.exports=a.p+"static/media/undraw_interface.ebb8fa96.png"},636:function(e,t,a){e.exports=a.p+"static/media/undraw_medical_research.1cae3bb8.png"},637:function(e,t,a){e.exports=a.p+"static/media/undraw_doctor_visit.82c35a2c.png"},638:function(e,t,a){e.exports=a.p+"static/media/undraw_to_do_list.fbb84a78.png"},639:function(e,t,a){e.exports=a.p+"static/media/undraw_detailed_analysis.071be222.png"},640:function(e,t,a){e.exports=a.p+"static/media/header_left.9de0a430.png"},641:function(e,t,a){e.exports=a.p+"static/media/header_right.f09bf39a.png"},659:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),l=a.n(i),o=(a(499),a(500),a(501),a(18)),c=a(38),s=a(54),m=a(32),u=a(443),d=a(403),p=a(688),f=a(22),g=a(124),h=a(79),b=a(704),v=a(439),E=a(695),x=a(324),y=a(696),j=a(203),O=a(691),C=a(407),w=a(712),k=a(490),_=a(669),S=a(406),I=a(689),P=a(69),N=a(482),q=a.n(N),V=a(481),T=a.n(V),B=a(484),D=a.n(B),M=a(483),A=a.n(M),R=a(255),L=a.n(R),z=a(134),F=a.n(z),W=a(2),U=a(690),Y=a(89),H=a(665),Z=a(317),G=a(389),$=a(445),J=a.n($),K=a(446),Q=a.n(K),X=a(448),ee=a.n(X),te=a(447),ae=a.n(te),ne=Object(h.a)((function(e){return{categoryHeader:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},categoryHeaderPrimary:{color:e.palette.common.white},item:{paddingTop:1,paddingBottom:1,color:"rgba(255, 255, 255, 0.7)","&:hover,&:focus":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},itemCategory:{backgroundColor:"#232f3e",boxShadow:"0 -1px 0 #404854 inset",paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},firebase:{fontSize:24,color:e.palette.common.white},itemActiveItem:{color:"#4fc3f7"},itemPrimary:{fontSize:"inherit"},itemIcon:{minWidth:"auto",marginRight:e.spacing(2)},divider:{marginTop:e.spacing(2)}}}));var re=function(e){var t=ne(),a=Object(g.h)(),n=[{id:"Gestions",children:[{id:"Accueil",icon:r.a.createElement(J.a,null),to:"/",active:"/"===a.pathname},{id:"Patients",icon:r.a.createElement(Q.a,null),active:a.pathname.startsWith("/patients"),to:"/patients"},{id:"Rendez-vous",icon:r.a.createElement(ae.a,null),active:a.pathname.startsWith("/appointments"),to:"/appointments"}]},{id:"Autres",children:[{id:"Mon compte",icon:r.a.createElement(ee.a,null),to:"/me",active:a.pathname.startsWith("/me")},,{id:"Parametres",icon:r.a.createElement(L.a,null),to:"/settings",active:a.pathname.startsWith("/settings")}]}];return r.a.createElement(Y.a,Object.assign({variant:"permanent"},e),r.a.createElement(H.a,{disablePadding:!0},r.a.createElement(Z.a,{className:Object(W.default)(t.firebase,t.item,t.itemCategory)},""),n.map((function(e){var a=e.id,n=e.children;return r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(Z.a,{className:t.categoryHeader},r.a.createElement(G.a,{classes:{primary:t.categoryHeaderPrimary}},a)),n.map((function(e){var a=e.id,n=e.icon,i=e.active,l=e.to;return r.a.createElement(Z.a,{key:a,button:!0,component:c.b,to:l,className:Object(W.default)(t.item,i&&t.itemActiveItem)},r.a.createElement(I.a,{className:t.itemIcon},n),r.a.createElement(G.a,{classes:{primary:t.itemPrimary}},a))})),r.a.createElement(U.a,{className:t.divider}))}))))},ie=a(302),le=function(){return r.a.createElement(ie.a,null,r.a.createElement(P.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(O.a,{color:"inherit",href:"https://medda-dz.com",target:"_blank"},"medda-dz.com")," ",(new Date).getFullYear(),"."))},oe=a(274),ce=a(88),se=Object(n.createContext)(null);function me(e){var t=e.children,a=e.value,i=Object(n.useState)(!1),l=Object(o.a)(i,2),c=l[0],s=l[1],m=Object(n.useState)([]),u=Object(o.a)(m,2),d=u[0],p=u[1];return r.a.createElement(se.Provider,{value:Object(ce.a)({drawerOpen:c,setDrowerOpen:s,setMedicaments:p,medicaments:d},a)},t)}var ue=function(){return Object(n.useContext)(se)},de=function(e){var t=e.component,a=Object(oe.a)(e,["component"]),n=ue().user,i=Object(g.h)();if("/signin"===i.pathname||"/signup"===i.pathname)return r.a.createElement(g.a,{to:"/"});return r.a.createElement(g.b,Object.assign({},a,{render:function(e){return Boolean(n)?r.a.createElement(t,e):r.a.createElement(g.a,{to:"/signin"})}}))},pe=function(e){var t=e.routes;return r.a.createElement(g.d,null,t.map((function(e,t){return"redirect"===e.component?r.a.createElement(g.a,{key:t,to:e.to}):e.private?r.a.createElement(de,{key:t,component:e.component,exact:e.exact,path:e.path}):r.a.createElement(g.b,{key:t,component:e.component,exact:e.exact,path:e.path})})))},fe=a(692),ge=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(1)},container:{flex:1,marginTop:e.spacing(1),minHeight:800},top:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(1)},title:{marginLeft:e.spacing(2)}}})),he=function(e){var t=e.children,a=e.title,n=ge();return r.a.createElement(ie.a,{className:n.root},a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{className:n.top},r.a.createElement(P.a,{variant:"h6",className:n.title},a)),r.a.createElement(U.a,{variant:"middle"})),r.a.createElement(fe.a,{className:n.container},t))},be=a(25),ve=a.n(be),Ee=a(56),xe=a(74),ye=a.n(xe),je=a(61),Oe=a(170),Ce=a.n(Oe),we=a(171),ke=a.n(we),_e=a(321),Se=a(670),Ie=a(141),Pe=a(709),Ne=a(698),qe=a(257),Ve=a(710),Te=a(393),Be=a(449),De=a.n(Be),Me=function(e){var t=e.url,a=e.textFieldProps,n=e.optionLabel,i=e.defaultValue,l=Object(oe.a)(e,["url","textFieldProps","optionLabel","defaultValue"]),c=r.a.useState(!1),s=Object(o.a)(c,2),m=(s[0],s[1],r.a.useState([])),u=Object(o.a)(m,2),d=u[0],p=u[1],f=r.a.useState(""),g=Object(o.a)(f,2),h=g[0],b=(g[1],r.a.useState(!1)),v=Object(o.a)(b,2),E=v[0],x=v[1],y=ue().api,j=r.a.useMemo((function(){return De()(function(){var e=Object(Ee.a)(ve.a.mark((function e(a,n){var r;return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("".concat(t,"?search=").concat(a));case 2:r=e.sent,n(r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),500)}),[]);return r.a.createElement(Ve.a,Object.assign({defaultValue:i,includeInputInList:!0,options:d,loading:E,onInputChange:function(e,t){!function(e){x(!0),j(e.toUpperCase(),(function(e){e&&(p(e.data),x(!1))}))}(t)},renderInput:function(e){return r.a.createElement(qe.a,Object.assign({},e,a,{InputProps:Object(ce.a)({},e.InputProps,{},a.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,E?r.a.createElement(Te.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},renderOption:function(e){var t=ke()(n?e[n]:e,h.toUpperCase()),a=Ce()(n?e[n]:e,t);return r.a.createElement(P.a,null,a.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)})))}},l,{onChange:function(e,t){l.onChange(e,t)},getOptionSelected:function(e,t){return e.id===t.id}}))},Ae=a(402),Re=a(694),Le=a(452),ze=a(304),Fe=(Object(h.a)((function(e){return{}})),function(e,t,a){var n=t.control,i=t.errors;return"component"===e.type?e.component:"text"===e.type||"password"===e.type||"tel"===e.type?r.a.createElement(_e.a,{key:a,margin:"normal",error:Boolean(i[e.name]),fullWidth:!0},r.a.createElement(je.a,{as:qe.a,autoFocus:e.autoFocus,fullWidth:!0,type:e.type,control:n,required:!!e.rules,name:e.name?e.name:e.code,defaultValue:e.defaultValue?e.defaultValue:"",label:e.placeholder?e.placeholder:e.label,rules:e.rules}),r.a.createElement(Se.a,null,i[e.name]&&i[e.name].message)):"number"===e.type?r.a.createElement(_e.a,{key:a,margin:"normal",fullWidth:!0,error:Boolean(i[e.name])},r.a.createElement(je.a,{as:qe.a,autoFocus:e.autoFocus,fullWidth:!0,type:"number",control:n,required:!!e.rules,name:e.name?e.name:e.code,defaultValue:e.defaultValue?e.defaultValue:"",label:e.placeholder,rules:e.rules}),r.a.createElement(Se.a,null,i[e.name]&&i[e.name].message)):"date"===e.type?r.a.createElement(_e.a,{key:a,margin:"normal",fullWidth:!0,error:Boolean(i[e.name])},r.a.createElement(je.a,{autoFocus:e.autoFocus,as:ze.a,fullWidth:!0,format:"DD-MM-YYYY",control:n,required:!!e.rules,name:e.name,defaultValue:e.defaultValue?e.defaultValue:new Date,label:e.placeholder,rules:e.rules,InputLabelProps:{shrink:!0}}),r.a.createElement(Se.a,null,i[e.name]&&i[e.name].message)):"select"===e.type||"list"===e.type?r.a.createElement(_e.a,{margin:"normal",fullWidth:!0,error:Boolean(i[e.name]),key:a},r.a.createElement(je.a,{autoFocus:e.autoFocus,as:Le.SingleSelect,fullWidth:!0,name:e.name,defaultValue:e.defaultValue?e.defaultValue:"user",rules:e.rules,control:n,options:e.options,label:e.placeholder}),r.a.createElement(Se.a,null,i[e.name]&&i[e.name].message)):"boolean"===e.type?r.a.createElement(_e.a,{fullWidth:!0,margin:"normal",key:a},r.a.createElement(Ae.a,{control:r.a.createElement(je.a,{autoFocus:e.autoFocus,as:Re.a,name:e.name,defaultValue:!e.defaultValue||"false"!==e.defaultValue&&Boolean(e.defaultValue),control:n}),label:e.placeholder})):null}),We=a(326),Ue=a.n(We),Ye=Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column"},container:{flex:1,marginTop:e.spacing(1),minHeight:800},top:{display:"flex",flexDirection:"row",alignItems:"center",margin:e.spacing(1)},title:{marginLeft:e.spacing(2)}}})),He=function(e){var t=e.children,a=e.title,n=e.tabsComponent,i=e.goBack,l=Ye(),o=Object(g.g)();return r.a.createElement(ie.a,{className:l.root},r.a.createElement(E.a,{position:"sticky",elevation:0},r.a.createElement(ie.a,{className:l.top},r.a.createElement(j.a,{style:{color:"white"},onClick:function(){return i?i():o.goBack()}},r.a.createElement(Ue.a,null)),r.a.createElement(P.a,{variant:"h6",className:l.title},a)),n&&n()),r.a.createElement(fe.a,{className:l.container},t))},Ze=a(336),Ge=a(471),$e=a.n(Ge),Je=a(458),Ke=a.n(Je),Qe=a(468),Xe=a.n(Qe),et=a(460),tt=a.n(et),at=a(467),nt=a.n(at),rt=a(333),it=a.n(rt),lt=a(332),ot=a.n(lt),ct=a(461),st=a.n(ct),mt=a(462),ut=a.n(mt),dt=a(464),pt=a.n(dt),ft=a(465),gt=a.n(ft),ht=a(466),bt=a.n(ht),vt=a(469),Et=a.n(vt),xt=a(463),yt=a.n(xt),jt=a(206),Ot=a.n(jt),Ct=a(470),wt=a.n(Ct),kt=a(459),_t=a.n(kt),St=a(453),It=a.n(St),Pt={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ke.a,Object.assign({},e,{ref:t}))})),Save:Object(n.forwardRef)((function(e,t){return r.a.createElement(_t.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(tt.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(st.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(ut.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(pt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(it.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(nt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(ot.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Xe.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(wt.a,Object.assign({},e,{ref:t}))}))},Nt=function(e){return r.a.createElement(It.a,Object.assign({padding:"dense",icons:Pt},e))},qt=a(269),Vt=a.n(qt),Tt=a(270),Bt=a.n(Tt),Dt=a(707),Mt=a(708),At=a(139),Rt=a.n(At),Lt=Object(h.a)((function(e){return{root:{padding:e.spacing(1),backgroundColor:"#fafafa",maxHeight:192},inline:{alignItems:"center"}}})),zt=function(e){var t=e.id,a=Lt(),i=ue().api,l=Object(n.useState)([]),c=Object(o.a)(l,2),m=c[0],u=c[1],p=Object(n.useState)(!0),f=Object(o.a)(p,2),h=f[0],b=f[1],v=Object(s.useSnackbar)().enqueueSnackbar,E=Object(g.g)(),x=Object(n.useCallback)((function(){i.get("patients/".concat(t,"/consultations")).then((function(e){var t=e.data;u(t.consultations),b(!1)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;v(n,{variant:"error"}),b(!1)}))}));return Object(n.useEffect)((function(){x()}),[]),h?r.a.createElement(d.a,null):0===m.length?r.a.createElement(ie.a,{display:"flex",justifyContent:"center",alignItems:"center",className:a.root},r.a.createElement(P.a,null,"Aucun consultation pour ce patient")):r.a.createElement(H.a,{component:F.a,className:a.root},m.map((function(e,a){return r.a.createElement(Z.a,{key:e.id,alignItems:"center"},r.a.createElement(Dt.a,null,r.a.createElement(w.a,null,r.a.createElement(Vt.a,null))),r.a.createElement(G.a,{primary:r.a.createElement(ie.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(P.a,{component:"span",variant:"body2",color:"textPrimary"},"Motifs: ".concat(e.motifs))),secondary:"Le ".concat(ye()(e.createdAt).format("DD/MM/YYYY, h:mm:ss a"))}),r.a.createElement(Mt.a,null,r.a.createElement(j.a,null,r.a.createElement(Rt.a,{onClick:function(){window.confirm("Supprimer ?")&&i.delete("consultations/".concat(e.id)).then((function(e){var t=e.data;v(t.message,{variant:"success"}),x()})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;v(n,{variant:"error"})}))}})),r.a.createElement(j.a,{onClick:function(){return E.push("/patients/".concat(t,"/consultations/").concat(e.id,"/edit"))},style:{marginLeft:".5em"},"aria-label":"edit"},r.a.createElement(Bt.a,null))))})))},Ft=Object(Ze.a)((function(e){return{root:{},content:{marginTop:e.spacing(2)},row:{height:"42px",display:"flex",alignItems:"center",marginTop:e.spacing(1)},spacer:{flexGrow:1},importButton:{marginRight:e.spacing(1)},exportButton:{marginRight:e.spacing(1)},searchInput:{marginRight:e.spacing(1)}}})),Wt=function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],l=a[1],c=Object(g.g)(),m=ue().api,u=Object(g.i)().params,p=Object(s.useSnackbar)().enqueueSnackbar,f=r.a.useState(!1),h=Object(o.a)(f,2),b=h[0],v=h[1],E=Object(n.useState)(null),x=Object(o.a)(E,2),j=x[0],O=x[1],C=Object(je.b)();r.a.useEffect((function(){u.id&&(l(!0),function(){var e=Object(Ee.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.get("/patients/".concat(u.id)).then((function(e){var t=e.data;O(t.user),l(!1)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;p(n,{variant:"error"}),l(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()())}),[]);var w=[{name:"firstname",placeholder:"Nom",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.firstname:""},{name:"lastname",placeholder:"Pr\xe9nom",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.lastname:""},{name:"mobile",placeholder:"Tel mobile",type:"text",rules:{required:"Ce champ est obligatoire",pattern:{value:/^(00213|\+213|0)(5|6|7)[0-9]{8}$/,message:"N\xe9mero de TEL incorecte"}},defaultValue:j?j.mobile:""},{name:"tel",placeholder:"Tel fix",type:"text",defaultValue:j?j.tel:""},{name:"email",placeholder:"Email",type:"text",defaultValue:j?j.email:"",rules:{required:"Ce champ est requis",pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Email incorecte"}}},{name:"dateBirth",placeholder:"Date de naissance",type:"date",rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.dateBirth:ye()("1995/01/01")},{name:"placeBirth",placeholder:"Lieu de naissance",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.placeBirth:""},{name:"gender",placeholder:"Sexe",type:"select",options:[{label:"Home",value:"man"},{label:"Female",value:"woman"}],rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.gender:"man"},,{name:"civilState",placeholder:"\xc9tat civile",type:"select",options:[{label:"C\xe9libataire",value:"single"},{label:"Mari\xe9(e)",value:"married"},{label:"D\xe9vorc\xe9(e)",value:"divorced"},{label:"Veuf(ve)",value:"widower"}],rules:{required:"Ce champ est obligatoire"},defaultValue:j?j.civilState:"single"}];return r.a.createElement(He,{title:j?"Modifier Patient: ".concat(j.firstname," ").concat(j.lastname.toUpperCase()):i?"":"Ajouter un patient"},i?r.a.createElement(d.a,null):r.a.createElement(y.a,{container:!0,spacing:1},w.map((function(e,t){return r.a.createElement(y.a,{key:e.name,item:!0,xs:12,md:6},Fe(e,C,t))})),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(U.a,null)),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(Ie.a,{color:"primary",variant:"contained",onClick:C.handleSubmit((function(e){v(!0),j?m.put("patients/".concat(u.id),e).then((function(){p("Patient updated",{variant:"success"}),c.push("/patients")})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;p(n,{variant:"error"})})):m.post("/patients",e).then((function(){p("Patient created with pending appointment",{variant:"success"}),v(!1),c.push("/patients")})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;p(n,{variant:"error"}),v(!1)}))})),disabled:b},"Sauvgarder"))))},Ut=a(48),Yt=a(133),Ht=a.n(Yt),Zt=a(271),Gt=a.n(Zt),$t=a(486),Jt=(a(634),a(699)),Kt=a(700),Qt=a(703),Xt=a(701),ea=a(125),ta=a(480),aa=a.n(ta),na=a(279),ra=a.n(na),ia=a(207),la=a(208),oa=a(209),ca=a(211),sa={hide:{display:"none"},page:{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"148mm",height:"200mm",fontSize:"4mm",backgroundColor:"white",margin:0,padding:0},pageHeader:{display:"flex",justifyContent:"space-between",color:"blue",fontWeight:"bold",backgroundColor:"white"},pageBody:{display:"flex",backgroundColor:"white",padding:"5mm",flexDirection:"column"},pageFooter:{borderTop:".1mm solid",paddingTop:"1mm",fontSize:"3mm",textAlign:"center"},underLine:{borderBottom:".1mm solid",marginBottom:"1mm"},underLineTextAlignRight:{borderBottom:".1mm solid",marginBottom:"1mm",textAlign:"right"},underPageHeader:{display:"flex",justifyContent:"space-between",color:"blue",fontWeight:"bold",backgroundColor:"white"},patient:{marginTop:"3mm",fontWeight:"bold",display:"flex",flexDirection:"row",justifyContent:"space-between"},medicaments:{marginTop:"3mm",display:"flex",flexDirection:"column"},medicament:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"1mm",border:"0.1mm dashed black",padding:"1mm"},nbMedicaments:{display:"flex",textDecoration:"underline"},signature:{marginTop:"5mm",display:"flex",flexDirection:"row",justifyContent:"space-between",textDecoration:"underline"},prescription:{marginTop:"3mm",flexDirection:"column",display:"flex"}},ma=function(e){Object(ca.a)(a,e);var t=Object(oa.a)(a);function a(){return Object(ia.a)(this,a),t.apply(this,arguments)}return Object(la.a)(a,[{key:"render",value:function(){var e,t,a,n,i;return r.a.createElement("div",{style:sa.page},r.a.createElement("div",{style:sa.pageBody},r.a.createElement("div",{style:sa.pageHeader},r.a.createElement("div",null,r.a.createElement("div",null,this.props.doctor.fullName),r.a.createElement("div",null,this.props.doctor.speciality.label),(null===(e=this.props.doctor)||void 0===e?void 0:e.univ)&&r.a.createElement("div",{style:sa.underLine},"Depelome faculte de ",this.props.doctor.univ)),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("div",null,this.props.doctor.clinicName?"CLINIC: "+this.props.doctor.clinicName.toUpperCase():"CLINIC: "+this.props.doctor.fullName.toUpperCase()),r.a.createElement("div",null,this.props.doctor.address),r.a.createElement("div",{style:sa.underLineTextAlignRight},null===(t=this.props.doctor)||void 0===t||null===(a=t.code_postal)||void 0===a?void 0:a.wilaya))),r.a.createElement("div",{style:sa.underPageHeader},r.a.createElement("div",null,""),r.a.createElement("div",{style:sa.underLineTextAlignRight},r.a.createElement("div",null,"TEL1: ",this.props.doctor.tel1),r.a.createElement("div",null,"TEL2: ",this.props.doctor.tel2))),r.a.createElement("div",{style:sa.patient},r.a.createElement("div",null,r.a.createElement("div",null,"Patient: ","".concat(this.props.patient.fullName)),r.a.createElement("div",{style:sa.underLine},"".concat(this.props.patient.age)," ans")),r.a.createElement("div",null,r.a.createElement("div",null,"".concat(null===(n=this.props.doctor)||void 0===n||null===(i=n.code_postal)||void 0===i?void 0:i.wilaya," le:")," "),r.a.createElement("div",{style:sa.underLineTextAlignRight},ye()(new Date).format("DD/MM/YYYY")))),r.a.createElement("div",{style:sa.medicaments},this.props.medicaments_prescription&&this.props.medicaments_prescription.map((function(e,t){return r.a.createElement("div",{key:t,style:sa.medicament},r.a.createElement("div",{style:{flex:4}},r.a.createElement("div",null,r.a.createElement("u",null,e.label," ")),r.a.createElement("div",null,e.medicament_prescription.posologie)),r.a.createElement("div",null,r.a.createElement("strong",null,"[",e.medicament_prescription.number_unit,"]")),r.a.createElement("div",{style:{flex:2,textAlign:"right"}},r.a.createElement("span",null,e.medicament_prescription.mention)))})),r.a.createElement("div",{style:sa.nbMedicaments},"Nombers des m\xe9dicaments:"," ",this.props.medicaments_prescription&&this.props.medicaments_prescription.length)),r.a.createElement("div",{style:sa.prescription},this.props.comment&&this.props.comment.split(",").map((function(e,t){return r.a.createElement("div",{key:t},e)}))),r.a.createElement("div",{style:sa.signature},r.a.createElement("div",{style:{flex:6}}),r.a.createElement("div",{style:{flex:1}},"Signature"))),r.a.createElement("div",{style:sa.pageFooter}," ","PAT0000222211 | https://medda-dz.com | ","PRE0000021211"))}}]),a}(r.a.Component),ua=(r.a.Component,Object(h.a)((function(e){return{root:{display:"flex",flexDirection:"column",padding:e.spacing(1)},tabPanel:{marginTop:e.spacing(1)},paper:{maxWidth:936,margin:"auto",overflow:"hidden"},searchBar:{borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},block:{display:"block"},addUser:{marginRight:e.spacing(1)},contentWrapper:{margin:"40px 16px"}}}))),da=function(e){var t=e.image,a=e.getConsultation,n=Object(s.useSnackbar)().enqueueSnackbar,i=ue().api,l=r.a.useState(!1),c=Object(o.a)(l,2),m=c[0],u=c[1],d=new Uint8Array(t.data.data),p=window.URL||window.webkitURL,f=new Blob([d],{type:t.type}),g=p.createObjectURL(f);return r.a.createElement(y.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(Jt.a,null,r.a.createElement(Kt.a,null,r.a.createElement(Qt.a,{style:{height:240},component:"img",image:g})),r.a.createElement(Xt.a,null,r.a.createElement(Ie.a,{disabled:m,onClick:function(){u(!0),i.delete("consultation_images/".concat(t.id)).then((function(e){e.data;n("Consultation est supprimer",{variant:"success"}),u(!1),a()})).catch((function(e){var t,a,r=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;n(r,{variant:"error"}),u(!1)}))},size:"small",color:"secondary"},"Supprimer"),r.a.createElement(Ie.a,{disabled:!0,size:"small",color:"primary"},"Telecharger"))))},pa=function(){var e=ua(),t=Object(s.useSnackbar)().enqueueSnackbar,a=Object(je.b)();window.hookForm=a;var n=r.a.useState(a.getValues()),i=Object(o.a)(n,2),l=i[0],c=i[1];window.formValues=l;var m=r.a.useState(null),u=Object(o.a)(m,2),p=u[0],h=u[1],b=ue(),v=b.api,O=b.user,C=r.a.useState(0),w=Object(o.a)(C,2),k=w[0],_=w[1],S=function(e,t){_(t),window.scrollTo(0,0)},I=r.a.useState([]),N=Object(o.a)(I,2),q=N[0],V=N[1],T=r.a.useState([]),B=Object(o.a)(T,2),D=B[0],M=B[1],A=r.a.useState(!0),R=Object(o.a)(A,2),L=R[0],z=R[1],F=r.a.useState(!1),W=Object(o.a)(F,2),Y=W[0],H=W[1],Z=r.a.useState(null),G=Object(o.a)(Z,2),$=G[0],J=G[1],K=r.a.useState(null),Q=Object(o.a)(K,2),X=Q[0],ee=Q[1],te=Object(g.i)().params,ae=Object(g.g)(),ne=r.a.useCallback(Object(Ee.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/consultations/".concat(te.consultationId)).then((function(e){var t=e.data;J(t),ee(t.patient),M(t.prescription.medicaments),V(t.health_parameters),z(!1)})).catch((function(e){var a,n,r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||""+e;t(r,{variant:"error"}),z(!1)}));case 2:case"end":return e.stop()}}),e)}))));r.a.useEffect((function(){(function(){var e=Object(Ee.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te.consultationId){e.next=4;break}ne(),e.next=6;break;case 4:return e.next=6,v.get("/patients/".concat(te.id)).then((function(e){var t=e.data;ee(t),z(!1)})).catch((function(e){var a,n,r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||""+e;t(r,{variant:"error"})}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var re=function(e){H(!0),e.healthParameters=se()._healthParametersConsultation,e.medicaments_prescription=se().medicaments_prescription,e.patientId=X.id,$?v.put("consultations/"+$.id,e).then((function(e){e.data;t("Consultation est enregister avec success",{variant:"success"}),H(!1)})).catch((function(e){var a,n,r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||""+e;t(r,{variant:"error"}),H(!1)})):v.post("consultations",e).then((function(e){var a=e.data;t("Consultation est enregister avec success",{variant:"success"}),H(!1),$||ae.push("/patients/".concat(X.id,"/consultations/").concat(a.id,"/edit"))})).catch((function(e){var a,n,r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||""+e;t(r,{variant:"error"}),H(!1)}))},le=r.a.useRef(),oe=Object(Zt.useReactToPrint)({content:function(){return le.current},onBeforeGetContent:function(){var e=Object(Ee.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(Object(ce.a)({},a.getValues(),{medicaments_prescription:se().medicaments_prescription})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),se=function(){var e=a.getValues(),t=[],n=[],r=[];Object.keys(e).map((function(a){if(a.startsWith("p__id")&&t.push({healthParameterId:Number(a.slice(5)),value:String(e[a])}),a.startsWith("m__id")){var i=Number(a.slice(7).split("__")[0]);r.includes(i)||(r.push(i),n.push({medicamentId:i,number_unit:""===e["m__id__".concat(i,"__number_unit")]?0:Number(e["m__id__".concat(i,"__number_unit")]),posologie:e["m__id__".concat(i,"__posologie")],mention:e["m__id__".concat(i,"__mention")]}))}}));var i=[];return n.map((function(e){D.map((function(t){t.id===e.medicamentId&&i.push(Object(ce.a)({},t,{medicament_prescription:e}))}))})),{_healthParametersConsultation:t,_medicamentsPrescription:n,medicaments_prescription:i}};return r.a.createElement(He,{goBack:function(){$?ae.replace("/patients"):ae.goBack()},tabsComponent:function(){return r.a.createElement(Pe.a,{textColor:"inherit",value:k,onChange:S,"aria-label":"consultation-tabs"},r.a.createElement(Ne.a,{textColor:"inherit",label:"Consultation"}),r.a.createElement(Ne.a,{textColor:"inherit",label:"Parametre de sant\xe9"}),r.a.createElement(Ne.a,{textColor:"inherit",label:"Ordonnance"}),$&&r.a.createElement(Ne.a,{textColor:"inherit",label:"Documents"}))},title:$&&X?"Consultation(".concat(ye()($.createdAt).format("DD/MM/YYYY, h:mm a"),") pour: ").concat("man"===X.user.gender?"Mr":"M"," ").concat(X.user.firstname," ").concat(X.user.lastname.toUpperCase()):"Nouvelle consultations pour: ".concat("man"===(null===X||void 0===X?void 0:X.user.gender)?"Mr":"M"," ").concat(null===X||void 0===X?void 0:X.user.firstname," ").concat(null===X||void 0===X?void 0:X.user.lastname.toUpperCase())},L?r.a.createElement(d.a,null):r.a.createElement(r.a.Fragment,null,function(){var t=[{name:"motifs",placeholder:"Motifs",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:$?$.motifs:"",autoFocus:!0},{name:"historique",placeholder:"Historique",defaultValue:$?$.historique:"",type:"text"},{name:"examenClinique",placeholder:"Examen clinique",defaultValue:$?$.examenClinique:"",type:"text"},{name:"examenParaClinique",placeholder:"Examen para clinique",defaultValue:$?$.examenParaClinique:"",type:"text"},{name:"diagnostique",placeholder:"Diagnostique",defaultValue:$?$.diagnostique:"",type:"text"},{name:"traitement",placeholder:"traitement",defaultValue:$?$.traitement:"",type:"text"},{name:"examentDemander",placeholder:"Exament demander",defaultValue:$?$.examentDemander:"",type:"text"},{name:"note",placeholder:"Note",defaultValue:$?$.note:"",type:"text"}];return r.a.createElement(ea.a,{style:{display:0===k?"":"none"},className:e.tabPanel},r.a.createElement(E.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(x.a,null,r.a.createElement(y.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(y.a,{item:!0}),r.a.createElement(y.a,{item:!0,xs:!0}),r.a.createElement(y.a,{item:!0},r.a.createElement(j.a,{disabled:!0},r.a.createElement(ra.a,{className:e.block,color:"inherit"})))))),r.a.createElement(ie.a,{padding:1,component:y.a,container:!0,spacing:1},t.map((function(e,t){return r.a.createElement(y.a,{key:t,item:!0,xs:12,md:6},Fe(e,a,t))})),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(U.a,null)),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(Ie.a,{color:"primary",variant:"contained",onClick:a.handleSubmit(re),disabled:Y},"Sauvgarder"))))}(),r.a.createElement(ea.a,{style:{display:1===k?"":"none"},className:e.tabPanel,component:y.a},r.a.createElement(E.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(x.a,null,r.a.createElement(y.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(Ot.a,{className:e.block,color:"inherit"})),r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(Me,{url:"healthparameters",optionLabel:"label",textFieldProps:{placeholder:"Poids, Taille, Tabagisme ...",InputProps:{disableUnderline:!0}},getOptionLabel:function(e){return e.label?e.label:""},getOptionDisabled:function(e){return Ht.a.some(q,e)},clearOnBlur:!0,onChange:function(e,t){t&&V([].concat(Object(Ut.a)(q),[t]))}})),r.a.createElement(y.a,{item:!0},r.a.createElement(j.a,{disabled:!0},r.a.createElement(ra.a,{className:e.block,color:"inherit"})))))),r.a.createElement(ie.a,{padding:1},r.a.createElement(y.a,{container:!0,spacing:1},0!==q.length?q.map((function(e){return function(e){var t,n={name:"p__id"+e.id,defaultValue:e.consultation_health_parameters?e.consultation_health_parameters.value:"",type:e.type,placeholder:e.label,options:e.health_parameter_options?e.health_parameter_options.map((function(e){return e.label})):[],autoFocus:!0,rules:{required:"Ce champ est obligatoire"}};return r.a.createElement(y.a,{key:n.name,item:!0,xs:12,md:6},r.a.createElement(ie.a,(t={alignItems:"center",border:"1px solid lightgray",borderRadius:4,display:"flex"},Object(f.a)(t,"alignItems","center"),Object(f.a)(t,"flexDirection","row"),Object(f.a)(t,"padding",1),Object(f.a)(t,"height",100),t),Fe(n,a,n.name+"field4"),r.a.createElement(j.a,{style:{margin:4},onClick:function(){window.confirm("Supprimer ?")&&V(q.filter((function(t){return t.label!==e.label})))},edge:"end","aria-label":"delete"},r.a.createElement(Rt.a,null))))}(e)})):r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(ie.a,{padding:1,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(P.a,{variant:"body1"},"Aucun Parametre selectione")))))),r.a.createElement(ea.a,{style:{display:2===k?"":"none"},className:e.tabPanel},r.a.createElement(E.a,{className:e.searchBar,position:"static",color:"default",elevation:0},r.a.createElement(x.a,null,r.a.createElement(y.a,{container:!0,spacing:2,alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(Ot.a,{className:e.block,color:"inherit"})),r.a.createElement(y.a,{item:!0,xs:!0},r.a.createElement(Me,{url:"medicaments",optionLabel:"label",textFieldProps:{placeholder:"Rechercher un medicament",InputProps:{disableUnderline:!0}},getOptionLabel:function(e){return e.label?e.label:""},getOptionDisabled:function(e){return Ht.a.some(D,e)},onChange:function(e,t){t&&M([].concat(Object(Ut.a)(D),[Object(ce.a)({},t,{medicament_prescription:{mention:"",number_unit:0,posologie:""}})]))}})),r.a.createElement(y.a,{item:!0},r.a.createElement(j.a,{onClick:oe,disabled:0===D.length},r.a.createElement(ra.a,{className:e.block,color:"inherit"})))))),r.a.createElement(ie.a,{padding:1},r.a.createElement(y.a,{container:!0,spacing:1},r.a.createElement(y.a,{item:!0,xs:12,md:12},Fe({name:"comment",type:"text",defaultValue:$&&$.prescription?$.prescription.comment:"",placeholder:"Commentair d'ordonnance"},a,"comment")),0!==D.length?D.map((function(e){return function(e){var t;return r.a.createElement(y.a,{key:e.id,item:!0,xs:12,md:12},r.a.createElement(ie.a,(t={alignItems:"center",border:"1px dashed lightgray",borderRadius:4,display:"flex"},Object(f.a)(t,"alignItems","center"),Object(f.a)(t,"flexDirection","row"),Object(f.a)(t,"padding",1),t),r.a.createElement(y.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(y.a,{item:!0,xs:12,md:5},r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},r.a.createElement("strong",null,"Medicament: "),e.label),e.packing&&r.a.createElement(P.a,{variant:"caption"},r.a.createElement("strong",null,"[Emballage: "),e.packing,"]"),e.formLabel&&r.a.createElement(P.a,{variant:"caption"},r.a.createElement("strong",null,", [Form: "),e.formLabel,"]"),e.dosage&&r.a.createElement(P.a,{variant:"caption"},r.a.createElement("strong",null,", [dosage: "),e.dosage,"]")),r.a.createElement(y.a,{item:!0,xs:2,md:1},Fe({name:"m__id__"+e.id+"__number_unit",type:"number",placeholder:"Nbs",autoFocus:!0,defaultValue:e.medicament_prescription?e.medicament_prescription.number_unit:0,rules:{required:"Ce champ est obligatoire"}},a,"m__id__"+e.id+"__number_unit")),r.a.createElement(y.a,{item:!0,xs:5,md:3},Fe({name:"m__id__"+e.id+"__posologie",type:"text",placeholder:"posologie",defaultValue:e.medicament_prescription?e.medicament_prescription.posologie:"",rules:{required:"Ce champ est obligatoire"}},a,"m__id__"+e.id+"__posologie")),r.a.createElement(y.a,{item:!0,xs:5,md:3},Fe({name:"m__id__"+e.id+"__mention",type:"text",placeholder:"Mention",defaultValue:e.medicament_prescription?e.medicament_prescription.mention:"",rules:{required:"Ce champ est obligatoire"}},a,"m__id__"+e.id+"__mention"))),r.a.createElement(U.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(ie.a,{display:"flex",flexDirection:"column"},r.a.createElement(j.a,{style:{margin:2},onClick:function(){window.confirm("Supprimer ?")&&M(D.filter((function(t){return t.id!==e.id})))},"aria-label":"delete"},r.a.createElement(Rt.a,null)),r.a.createElement(j.a,{style:{margin:2},onClick:function(){window.alert(JSON.stringify(e,null,2))},"aria-label":"help"},r.a.createElement(aa.a,null)))))}(e)})):r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(ie.a,{padding:1,display:"flex",justifyContent:"center",alignItems:"center"},r.a.createElement(P.a,{variant:"body1"},"Aucun medicament selectione")))))),$&&r.a.createElement(ea.a,{style:{display:3===k?"":"none"},className:e.tabPanel,padding:1},r.a.createElement(ie.a,{padding:1},r.a.createElement($t.a,{acceptedFiles:["image/*"],dropzoneText:"Faites glisser et d\xe9posez une image ici ou cliquez sur",onChange:function(e){return h(0!==e.lenght?e[0]:null)},maxFileSize:1024e3,filesLimit:1}),r.a.createElement(ie.a,{padding:1,marginBottom:2,borderBottom:"1px solid lightgray",display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement(Ie.a,{variant:"contained",disabled:!p,color:"primary",onClick:function(){if(p){var e=new FormData;e.set("consultationId",$.id),e.append("file",p),v.post("consultation_images",e).then((function(e){e.data,t("Image est enregiste",{variant:"success"}),h(null),ne()})).catch((function(e){var a,n,r=(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||""+e;t(r,{variant:"error"})}))}}},"Sauvgarder la photo s\xe9lection\xe9")),r.a.createElement(y.a,{spacing:1,container:!0},$.consultation_images.map((function(e){return r.a.createElement(da,{image:e,getConsultation:ne,key:e.id})}))))),r.a.createElement("div",{style:{display:"none"}},r.a.createElement(ma,{ref:le,doctor:{fullName:"man"===O.gender?"Mr. ".concat(O.firstname," ").concat(O.lastname.toUpperCase()):"Mme. ".concat(O.firstname," ").concat(O.lastname.toUpperCase()),speciality:O.doctor.speciality,univ:"",clinicName:O[O.is].clinic.name,address:O[O.is].clinic.address,code_postal:O[O.is].clinic.code_postal,tel1:O[O.is].clinic.mobile,tel2:O[O.is].clinic.tel},patient:{fullName:"man"===X.user.gender?"Mr. ".concat(X.user.firstname," ").concat(X.user.lastname.toUpperCase()):"Mme. ".concat(X.user.firstname," ").concat(X.user.lastname.toUpperCase()),age:ye()().diff(ye()(X.user.dateBirth),"years")},medicaments_prescription:l.medicaments_prescription,comment:l.comment}))))},fa=[{component:function(){var e=Object(g.g)(),t=Ft(),a=ue().api,i=Object(n.useState)([]),l=Object(o.a)(i,2),c=l[0],m=l[1],u=Object(n.useState)(!0),d=Object(o.a)(u,2),p=d[0],f=d[1],h=Object(n.useState)(null),b=Object(o.a)(h,2),v=(b[0],b[1]),E=Object(s.useSnackbar)().enqueueSnackbar,x=function(){f(!0),a.get("/patients").then((function(e){var t=e.data;m(t),f(!1)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;E(n,{variant:"error"}),f(!1)}))};Object(n.useEffect)(x,[]);return r.a.createElement(he,{title:"Patients"},r.a.createElement("div",null,r.a.createElement("div",{className:t.row},r.a.createElement("span",{className:t.spacer}),r.a.createElement(C.a,{title:"Actualis\xe9"},r.a.createElement(j.a,{onClick:x,className:t.exportButton},r.a.createElement($e.a,null))),r.a.createElement(Ie.a,{onClick:function(){return e.push("/patients/add")},color:"primary",variant:"contained"},"Ajouter"))),r.a.createElement("div",{className:t.content},r.a.createElement(Nt,{title:"Liste des patients",isLoading:p,columns:[{title:"Nom",field:"user.firstname"},{title:"Pr\xe9nom",field:"user.lastname"},{title:"Tel mobile",field:"user.mobile"},{title:"Sexe",field:"user.gender",lookup:{man:"Home",woman:"Female"}}],data:c,options:{search:!0},onRowClick:function(e,t){return v(t)},detailPanel:function(e){return r.a.createElement(zt,{key:e.id,id:e.id})},actions:[{icon:Bt.a,tooltip:"Modifier",onClick:function(t,a){return e.push("/patients/edit/".concat(a.id))}},function(t){return{icon:Vt.a,tooltip:"Ajouter consultation",onClick:function(t,a){return e.push("/patients/".concat(a.id,"/consultations/add"))}}}]})))},path:"/patients",exact:!0},{component:Wt,path:"/patients/add",exact:!0},{component:Wt,path:"/patients/edit/:id",exact:!0},{component:pa,path:"/patients/:id/consultations/add",exact:!0},{component:pa,path:"/patients/:id/consultations/:consultationId/edit",exact:!0}],ga=[{component:function(){return r.a.createElement(he,{title:"Accueil"},"Home view")},path:"/",exact:!0},{component:function(e){var t,a,i,l,c,m,u,p,f=Object(n.useState)(!0),h=Object(o.a)(f,2),b=h[0],v=h[1],E=(Object(g.g)(),ue()),x=E.api,j=E.user,O=E.setUser,C=(Object(g.i)().params,Object(s.useSnackbar)().enqueueSnackbar),w=r.a.useState(0),k=Object(o.a)(w,2),_=k[0],S=k[1],I=function(e,t){S(t),window.scrollTo(0,0)},N=r.a.useState(!1),q=Object(o.a)(N,2),V=q[0],T=q[1],B=Object(n.useState)(j),D=Object(o.a)(B,2),M=D[0],A=(D[1],Object(n.useState)([])),R=Object(o.a)(A,2),L=(R[0],R[1]),z=Object(je.b)();window.hookForm=z,r.a.useEffect((function(){(function(){var e=Object(Ee.a)(ve.a.mark((function e(){return ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/specialities").then((function(e){var t=e.data.map((function(e){return{label:e.label,value:e.id}}));L(t),v(!1)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;C(n,{variant:"error"}),v(!1)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var F=[{name:"firstname",placeholder:"Nom",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.firstname:""},{name:"lastname",placeholder:"Pr\xe9nom",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.lastname:""},{name:"mobile",placeholder:"Tel mobile",type:"text",defaultValue:M?M.mobile:"",rules:{required:"Ce champ est obligatoire",pattern:{value:/^(00213|\+213|0)(5|6|7)[0-9]{8}$/,message:"N\xe9mero de TEL incorecte"}}},{name:"tel",placeholder:"Tel fix",type:"text",defaultValue:M?M.tel:""},{name:"email",placeholder:"Email",type:"text",defaultValue:M?M.email:"",rules:{required:"Ce champ est requis",pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,message:"Email incorecte"}}},{name:"dateBirth",placeholder:"Date de naissance",type:"date",rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.dateBirth:ye()("1995/01/01")},{name:"placeBirth",placeholder:"Lieu de naissance",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.placeBirth:""},{name:"gender",placeholder:"Sexe",type:"select",options:[{label:"Home",value:"man"},{label:"Female",value:"woman"}],rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.gender:"man"},,{name:"civilState",placeholder:"\xc9tat civile",type:"select",options:[{label:"C\xe9libataire",value:"single"},{label:"Mari\xe9(e)",value:"married"},{label:"D\xe9vorc\xe9(e)",value:"divorced"},{label:"Veuf(ve)",value:"widower"}],rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.civilState:"single"},{name:"address",placeholder:"Adress",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?M.address:""}],W=[{name:"name",placeholder:"Nom de clinic",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?null===M||void 0===M||null===(t=M.doctor)||void 0===t||null===(a=t.clinic)||void 0===a?void 0:a.name:""},{name:"address",placeholder:"Address de clinic",type:"text",rules:{required:"Ce champ est obligatoire"},defaultValue:M?null===M||void 0===M||null===(i=M.doctor)||void 0===i||null===(l=i.clinic)||void 0===l?void 0:l.address:""},{name:"mobile",placeholder:"Tel mobile",type:"text",rules:{required:"Ce champ est obligatoire",pattern:{value:/^(00213|\+213|0)(5|6|7)[0-9]{8}$/,message:"N\xe9mero de TEL incorecte"}},defaultValue:M?null===M||void 0===M||null===(c=M.doctor)||void 0===c||null===(m=c.clinic)||void 0===m?void 0:m.mobile:""},{name:"tel",placeholder:"Tel fix",type:"text",defaultValue:M?null===M||void 0===M||null===(u=M.doctor)||void 0===u||null===(p=u.clinic)||void 0===p?void 0:p.tel:""}],Y=function(e){var t,a;(T(!0),0===_&&x.put("auth/me",e).then((function(e){var t=e.data;C("me updated",{variant:"success"}),T(!1),O(t)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;C(n,{variant:"error"}),T(!1)})),1===_)&&x.put("/clinics/"+(null===M||void 0===M||null===(t=M.doctor)||void 0===t||null===(a=t.clinic)||void 0===a?void 0:a.id),e).then((function(e){var t=e.data;C("me updated",{variant:"success"}),T(!1),O(t)})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;C(n,{variant:"error"}),T(!1)}))};return r.a.createElement(He,{tabsComponent:function(){return r.a.createElement(Pe.a,{textColor:"inherit",value:_,onChange:I,"aria-label":"me-tabs"},r.a.createElement(Ne.a,{textColor:"inherit",label:"Votre information"}),r.a.createElement(Ne.a,{textColor:"inherit",label:"Informations sur la clinique"}),r.a.createElement(Ne.a,{textColor:"inherit",label:"Changement de mot de pass"}))},title:"Mon compte"},b?r.a.createElement(d.a,null):r.a.createElement(r.a.Fragment,null,0===_&&function(){var e;return z.register({name:"codePostalId"},{required:"Ce champ est requis"}),z.setValue("codePostalId",null===M||void 0===M||null===(e=M.code_postal)||void 0===e?void 0:e.id),r.a.createElement(y.a,{container:!0,spacing:1},F.map((function(e,t){return"specialityId"===e.label&&"doctor"===M.is?null:r.a.createElement(y.a,{key:e.name,item:!0,xs:12,md:6},Fe(e,z,t))})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(_e.a,{margin:"normal",fullWidth:!0,error:Boolean(z.errors.codePostalId)},r.a.createElement(Me,{url:"codepostals",optionLabel:"codePostal",textFieldProps:{placeholder:"Code postal",label:"Code postal",required:!0},getOptionLabel:function(e){return e.codePostal?e.codePostal:""},onChange:function(e,t){z.setValue("codePostalId",null===t||void 0===t?void 0:t.id)},defaultValue:null===M||void 0===M?void 0:M.code_postal,renderOption:function(e,t){var a=ke()(e.codePostal,t.inputValue.toUpperCase()),n=Ce()(e.codePostal,a);return r.a.createElement(ie.a,{flexDirection:"column"},r.a.createElement(P.a,null,n.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)}))),r.a.createElement(P.a,null,e.label+" - "+e.wilaya))}}),r.a.createElement(Se.a,null,z.errors.codePostalId&&z.errors.codePostalId.message))),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(U.a,null)),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(Ie.a,{color:"primary",variant:"contained",onClick:z.handleSubmit(Y),disabled:V},"Sauvgarder")))}(),1===_&&function(){var e,t,a,n,i;return z.register({name:"codePostalId"},{required:"Ce champ est requis"}),z.setValue("codePostalId",null===M||void 0===M||null===(e=M.doctor)||void 0===e||null===(t=e.clinic)||void 0===t||null===(a=t.code_postal)||void 0===a?void 0:a.id),r.a.createElement(y.a,{container:!0,spacing:1},W.map((function(e,t){return"specialityId"===e.name&&"doctor"===M.is?null:r.a.createElement(y.a,{key:e.name,item:!0,xs:12,md:6},Fe(e,z,t))})),r.a.createElement(y.a,{item:!0,xs:12,md:6},r.a.createElement(_e.a,{margin:"normal",fullWidth:!0,error:Boolean(z.errors.codePostalId)},r.a.createElement(Me,{url:"codepostals",optionLabel:"codePostal",textFieldProps:{placeholder:"Code postal",label:"Code postal",required:!0},getOptionLabel:function(e){return e.codePostal?e.codePostal:""},onChange:function(e,t){z.setValue("codePostalId",null===t||void 0===t?void 0:t.id)},defaultValue:null===M||void 0===M||null===(n=M.doctor)||void 0===n||null===(i=n.clinic)||void 0===i?void 0:i.code_postal,renderOption:function(e,t){var a=ke()(e.codePostal,t.inputValue.toUpperCase()),n=Ce()(e.codePostal,a);return r.a.createElement(ie.a,{flexDirection:"column"},r.a.createElement(P.a,null,n.map((function(e,t){return r.a.createElement("span",{key:t,style:{fontWeight:e.highlight?700:400}},e.text)}))),r.a.createElement(P.a,null,e.label+" - "+e.wilaya))}}),r.a.createElement(Se.a,null,z.errors.codePostalId&&z.errors.codePostalId.message))),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(U.a,null)),r.a.createElement(y.a,{item:!0,xs:12,md:12},r.a.createElement(Ie.a,{color:"primary",variant:"contained",onClick:z.handleSubmit(Y),disabled:V},"Sauvgarder")))}()))},path:"/me",exact:!0},{component:function(){return r.a.createElement(he,{title:"Parameters"},"Comming soon")},path:"/settings",exact:!0},{component:function(){return r.a.createElement(pe,{routes:fa})},path:"/patients",exact:!1},{component:function(){return r.a.createElement(he,{title:"Rendez-vous"},"Comming soon")},path:"/appointments",exact:!1},{component:"redirect",to:"/"}],ha=function(){return r.a.createElement(pe,{routes:ga})},ba=Object(h.a)((function(e){return{root:{display:"flex",minHeight:"100vh"},drawer:Object(f.a)({},e.breakpoints.up("sm"),{width:256,flexShrink:0}),app:{flex:1,display:"flex",flexDirection:"column"},main:{},footer:{padding:e.spacing(2),marginTop:e.spacing(2),background:"#eaeff1"}}})),va=function(e){var t,a,n=ba(),i=Object(g.h)(),l=Object(g.g)(),m=Object(s.useSnackbar)().enqueueSnackbar,u=r.a.useState(!1),d=Object(o.a)(u,2),p=d[0],f=d[1],h=ue(),N=h.user,V=h.setToken,B=r.a.useState(null),M=Object(o.a)(B,2),R=M[0],z=M[1],F=function(){f(!p)};return"/me"===i.pathname||N.email&&(null===N||void 0===N||null===(t=N.doctor)||void 0===t||null===(a=t.clinic)||void 0===a?void 0:a.mobile)||(l.replace("/me"),m("Complet\xe9 votre informations pour continue utilse medda",{variant:"success"})),r.a.createElement("div",{className:n.root},r.a.createElement(b.a,null),r.a.createElement("nav",{className:n.drawer},r.a.createElement(v.a,{smUp:!0,implementation:"js"},r.a.createElement(re,{PaperProps:{style:{width:256}},variant:"temporary",open:p,onClose:F})),r.a.createElement(v.a,{xsDown:!0,implementation:"css"},r.a.createElement(re,{PaperProps:{style:{width:256}}}))),r.a.createElement("div",{className:n.app},r.a.createElement(E.a,{color:"primary",position:"sticky",elevation:0},r.a.createElement(x.a,null,r.a.createElement(y.a,{container:!0,spacing:1,alignItems:"center"},r.a.createElement(v.a,{smUp:!0},r.a.createElement(y.a,{item:!0},r.a.createElement(j.a,{color:"inherit","aria-label":"open drawer",onClick:F,className:n.menuButton},r.a.createElement(T.a,null)))),r.a.createElement(y.a,{item:!0,xs:!0}),r.a.createElement(y.a,{item:!0},r.a.createElement(O.a,{className:n.link,href:"#",variant:"body2"},"Go to docs")),r.a.createElement(y.a,{item:!0},r.a.createElement(C.a,{title:"Aucun notification"},r.a.createElement(j.a,{color:"inherit"},r.a.createElement(q.a,null)))),r.a.createElement(y.a,{item:!0},r.a.createElement(j.a,{color:"inherit",className:n.iconButtonAvatar,onClick:function(e){z(e.currentTarget)}},r.a.createElement(w.a,{alt:N.username.toUpperCase()})),r.a.createElement(k.a,{anchorEl:R,keepMounted:!0,open:Boolean(R),onClose:function(){z(null)},autoFocus:!1,anchorOrigin:{vertical:"bottom",horizontal:"center"}},r.a.createElement(_.a,null,r.a.createElement(S.a,{component:c.b,to:"/me"},r.a.createElement(I.a,null,r.a.createElement(A.a,{fontSize:"small"})),r.a.createElement(P.a,{variant:"inherit"},"Mon Compte")),r.a.createElement(S.a,{component:c.b,to:"/settings"},r.a.createElement(I.a,null,r.a.createElement(L.a,{fontSize:"small"})),r.a.createElement(P.a,{variant:"inherit"},"Parameters")),r.a.createElement(S.a,{onClick:function(){V("")}},r.a.createElement(I.a,null,r.a.createElement(D.a,{fontSize:"small"})),r.a.createElement(P.a,{variant:"inherit",noWrap:!0},"D\xe9connect\xe9")))))))),r.a.createElement(ha,null),r.a.createElement("footer",{className:n.footer},r.a.createElement(le,null))))},Ea=a(702),xa=function(e){var t=e.title,a=e.text,n=e.image;return r.a.createElement(y.a,{item:!0,spacing:1,xs:12,sm:6,md:4},r.a.createElement(Jt.a,null,r.a.createElement(Kt.a,null,r.a.createElement(Qt.a,{style:{height:240},component:"img",image:n}),r.a.createElement(Ea.a,null,r.a.createElement(P.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(P.a,{variant:"body2",color:"textSecondary",component:"p"},a)))))},ya=[{title:"Facile",text:"Avec son interface intuitive, vous trouverez facile \xe0 utiliser Medda. Tout est con\xe7u pour vous offrir des donn\xe9es et des actions rapidement accessibles.",image:a(635)},{title:"Dossier m\xe9dical",text:"G\xe9rez et organisez facilement les dossiers m\xe9dicaux de vos patients, dans une seule base de donn\xe9es. Facile \xe0 mettre \xe0 jour en quelques clics.",image:a(636)},{title:"Visite m\xe9dicale",text:"Avec une interface intuitive, saisissez tous les d\xe9tails des visites m\xe9dicales de vos patients. Et en consulter l\u2019historique en quelques clics seulement.",image:a(637)},{title:"Prescription",text:"Avec un dictionnaire m\xe9dical riche et extensible, et l'aide des ordonnances types, saisissez et imprimez rapidement vos ordonnances.",image:a(638)},{title:"Analyses m\xe9dicales",text:"Demandez des analyses m\xe9dicales, et en recevoir le r\xe9sultat avec les param\xe8tres anormaux mis en \xe9vidence pour attirer l\u2019attention.",image:a(639)},{title:"Documents",text:"Sauvegardez tout type de documents avec la fiche patient; Images, documents textes ou m\xeame des vid\xe9os. Tous \xe0 un clic pour les consulter.",image:a(426)},{title:"Rendez-vous",text:"Gestion des rendez-vous des patients.",image:a(426)}],ja=Object(h.a)((function(e){return{root:{padding:e.spacing(0)},header:{padding:e.spacing(4),backgroundColor:"white",boxShadow:"5px 0px 25px 0px #0000007d",marginBottom:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between",backgroundImage:"",backgroundRepeat:"no-repeat"},footer:{height:320,padding:e.spacing(4),background:"linear-gradient(to top, #e6e8f9 0%, #f4f6f8)",boxShadow:"5px 0px 25px 0px #0000007d",marginTop:e.spacing(6),display:"flex",flexDirection:"column",alignItems:"space-between",justifyContent:"space-between"}}})),Oa=Object(h.a)((function(e){var t;return{left:{overflowY:"auto",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1)},right:(t={padding:e.spacing(1),background:"linear-gradient(to right, #e6e8f9 0%, #f4f6f8)",boxShadow:"5px 0px 25px 0px #0000007d",overflowY:"auto",justifyContent:"center"},Object(f.a)(t,e.breakpoints.down("xs"),{justifyContent:"flex-start"}),Object(f.a)(t,"height","100%"),t),authenticationImage:Object(f.a)({width:"100%"},e.breakpoints.down("xs"),{}),doctorsImage:{width:"calc(100% - 80px)"}}})),Ca=a(427),wa=a(428),ka=Object(h.a)((function(e){var t;return{left:{overflowY:"auto",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:e.spacing(1)},right:(t={padding:e.spacing(1),background:"linear-gradient(to right, #e6e8f9 0%, #f4f6f8)",boxShadow:"5px 0px 25px 0px #0000007d",overflowY:"auto",justifyContent:"center"},Object(f.a)(t,e.breakpoints.down("xs"),{justifyContent:"flex-start"}),Object(f.a)(t,"height","100%"),t),authenticationImage:Object(f.a)({width:"100%"},e.breakpoints.down("xs"),{}),doctorsImage:{width:"calc(100% - 80px)"}}})),_a=a(427),Sa=a(428),Ia=[{component:function(){var e=ja();return r.a.createElement(ie.a,{className:e.root},r.a.createElement(ie.a,{className:e.header,xs:12},r.a.createElement(ie.a,{display:"flex",flexDirection:"row",justifyContent:"space-around"},r.a.createElement("img",{src:a(640)}),r.a.createElement("img",{src:a(641)})),r.a.createElement(ie.a,{marginTop:4,marginBottom:1},r.a.createElement(P.a,{variant:"h4"},"Gestion de cabinet m\xe9dical et clinique online"),r.a.createElement(P.a,null,"Gagnez du temps, r\xe9duisez l'erreur et assurez une meilleure qualit\xe9 de service.")),r.a.createElement(ie.a,{marginTop:4,marginBottom:1},r.a.createElement(Ie.a,{component:c.b,to:"/signin",style:{marginRight:16},variant:"contained",color:"primary"},"Connect\xe9"),r.a.createElement(Ie.a,{component:c.b,to:"/signup",variant:"outlined",color:"primary"},"cr\xe9er un compte"))),r.a.createElement(fe.a,null,r.a.createElement(ie.a,{margin:2,marginBottom:4},r.a.createElement(P.a,{variant:"h5"},"Avec ",r.a.createElement("span",{style:{fontWeight:700}},"MEDDA"),", vous \xeates pr\xe9sent pour vos patients lorsqu\u2019ils ont besoin de vous, n\u2019importe quand, n\u2019importe o\xf9.")),r.a.createElement(y.a,{xs:12,spacing:2,container:!0},ya.map((function(e){return r.a.createElement(xa,e)})))),r.a.createElement(ie.a,{className:e.footer},r.a.createElement(P.a,{style:{textAlign:"center"}},"</>"," (developed) with \u2764 by"," ",r.a.createElement(O.a,{color:"inherit",href:"https://twitter.com/seddikBENZEMAME",target:"_blank"},"@seddikBENZEMAME")),r.a.createElement(le,null)))},path:"/",exact:!0},{component:function(){var e=Oa(),t=ue(),a=t.api,n=t.setToken,i=Object(je.b)(),l=Object(s.useSnackbar)().enqueueSnackbar;return r.a.createElement(y.a,{container:!0,style:{height:"100vh"}},r.a.createElement(v.a,{xsDown:!0},r.a.createElement(y.a,{item:!0,sm:7,md:8,className:e.left},r.a.createElement(ie.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement("img",{className:e.doctorsImage,src:wa})),r.a.createElement(P.a,{style:{textAlign:"center"}},"</>"," (developed) with \u2764 by"," ",r.a.createElement(O.a,{color:"inherit",href:"https://twitter.com/seddikBENZEMAME",target:"_blank"},"@seddikBENZEMAME")))),r.a.createElement(y.a,{item:!0,xs:12,sm:5,md:4,className:e.right,component:F.a},r.a.createElement(ie.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement("img",{className:e.authenticationImage,src:Ca})),r.a.createElement(ea.a,{style:{padding:8,marginTop:8},component:"form"},[{name:"username",placeholder:"Nom d'utilisateur",type:"text",rules:{required:"This field is required"}},{name:"password",placeholder:"Mot de pass",type:"password",rules:{required:"This field is required"}}].map((function(e,t){return Fe(e,i,t)})),r.a.createElement(Ie.a,{onClick:i.handleSubmit((function(e){a.post("auth/signin",e).then((function(e){var t=e.data;n(t.accessToken),l("Bienvenu",{variant:"success"})})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;l(n,{variant:"error"})}))})),style:{width:"100%"},variant:"contained",color:"primary"},"Connect\xe9")),r.a.createElement(O.a,{to:"/signup",component:c.b,variant:"subtitle1",style:{textAlign:"right"}},"Vous n'avez pas encore de compte?")))},path:"/signin",exact:!0},{component:function(){var e=ka(),t=ue(),a=t.api,n=(t.setToken,Object(je.b)()),i=Object(s.useSnackbar)().enqueueSnackbar,l=Object(g.g)();return n.register({name:"specialityId"},{required:"Ce champ est requis"}),r.a.createElement(y.a,{container:!0,style:{height:"100vh"}},r.a.createElement(v.a,{xsDown:!0},r.a.createElement(y.a,{item:!0,sm:7,md:8,className:e.left},r.a.createElement(ie.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement("img",{className:e.doctorsImage,src:Sa})),r.a.createElement(P.a,{style:{textAlign:"center"}},"</>"," (developed) with \u2764 by"," ",r.a.createElement(O.a,{color:"inherit",href:"https://twitter.com/seddikBENZEMAME",target:"_blank"},"@seddikBENZEMAME")))),r.a.createElement(y.a,{item:!0,xs:12,sm:5,md:4,className:e.right,component:F.a},r.a.createElement(ie.a,{display:"flex",alignItems:"center",justifyContent:"center"},r.a.createElement("img",{className:e.authenticationImage,src:_a})),r.a.createElement(ea.a,{style:{padding:8,marginTop:8},component:"form"},r.a.createElement(_e.a,{margin:"normal",fullWidth:!0,error:Boolean(n.errors.specialityId)},r.a.createElement(Me,{url:"specialities",optionLabel:"label",textFieldProps:{placeholder:"Chois\xe9 votre specialit\xe9",required:!0},getOptionLabel:function(e){return e.label?e.label:""},onChange:function(e,t){n.setValue("specialityId",null===t||void 0===t?void 0:t.id)}}),r.a.createElement(Se.a,null,n.errors.specialityId&&n.errors.specialityId.message)),[{name:"mobile",placeholder:"Tel mobile",type:"text",rules:{required:"Ce champ est requis",pattern:{value:/^(00213|\+213|0)(5|6|7)[0-9]{8}$/,message:"N\xe9mero de TEL incorecte"}},style:{width:"100%"}},{name:"username",placeholder:"Nom d'utilisateur",type:"text",rules:{required:"Ce champ est requis"}},{name:"password",placeholder:"Mot de pass",type:"password",rules:{required:"Ce champ est requis"}}].map((function(e,t){return Fe(e,n,t)})),r.a.createElement(Ie.a,{onClick:n.handleSubmit((function(e){a.post("/auth/signup",Object(ce.a)({},e,{is:"doctor"})).then((function(){i("Connectez-vous maintenant avec nom d'utilisateur et mot de passe",{variant:"success"}),l.push("/signin")})).catch((function(e){var t,a,n=(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||""+e;i(n,{variant:"error"})}))})),style:{width:"100%"},variant:"contained",color:"primary"},"S'inscrire")),r.a.createElement(O.a,{to:"/signin",component:c.b,variant:"subtitle1",style:{textAlign:"right"}},"Si vous avez d\xe9j\xe0 un compte, identifiez-vous")))},path:"/signup",exact:!0},{component:"redirect",to:"/"}],Pa=function(){return r.a.createElement(pe,{routes:Ia})},Na=function(){return r.a.createElement(Pa,null)},qa=a(485),Va=a.n(qa),Ta=function(e){Object(ca.a)(a,e);var t=Object(oa.a)(a);function a(){return Object(ia.a)(this,a),t.apply(this,arguments)}return Object(la.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),a}(r.a.Component),Ba=Object(g.j)(Ta),Da=a(159),Ma=Object(Da.a)({palette:{primary:{light:"#63ccff",main:"#009be5",dark:"#006db3"}},typography:{h5:{fontWeight:500,fontSize:26,letterSpacing:.5}},shape:{borderRadius:8},props:{MuiTab:{disableRipple:!0}},mixins:{toolbar:{minHeight:48}}}),Aa=Ma=Object(ce.a)({},Ma,{overrides:{MuiDrawer:{paper:{backgroundColor:"#18202c"}},MuiButton:{label:{textTransform:"none"},contained:{borderRadius:24},outlined:{borderRadius:24}},MuiTabs:{root:{marginLeft:Ma.spacing(1)},indicator:{height:3,borderTopLeftRadius:3,borderTopRightRadius:3,backgroundColor:Ma.palette.common.white}},MuiTab:{root:Object(f.a)({textTransform:"none",margin:"0 16px",minWidth:0,padding:0},Ma.breakpoints.up("md"),{padding:0,minWidth:0})},MuiIconButton:{root:{padding:Ma.spacing(1)}},MuiTooltip:{tooltip:{borderRadius:4}},MuiDivider:{root:{backgroundColor:"lightgray",margin:Ma.spacing(1)}},MuiListItemText:{primary:{fontWeight:Ma.typography.fontWeightMedium}},MuiListItemIcon:{root:{color:"inherit",marginRight:0,"& svg":{fontSize:20}}},MuiAvatar:{root:{width:32,height:32}}}}),Ra=function(e){var t=e.children;return r.a.createElement(p.a,{theme:Aa},r.a.createElement(m.a,{utils:u.a},r.a.createElement(s.SnackbarProvider,{maxSnack:1},r.a.createElement(c.a,null,r.a.createElement(Ba,null,t)))))};var La=function(){var e=Object(n.useState)(!0),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(null),c=Object(o.a)(l,2),s=c[0],m=c[1],u=function(){var e=Object(n.useState)(localStorage.getItem("token")),t=Object(o.a)(e,2),a=t[0],r=t[1],i=function(e){localStorage.setItem("token",e),r(e)};return Object(n.useMemo)((function(){return{api:Va.a.create({baseURL:"/api",headers:{"x-access-token":a,"Content-Type":"application/json",accept:"application/json"}}),token:a,setToken:i}}),[a])}(),p=u.api,f=u.token,g=u.setToken;return window.api=p,Object(n.useEffect)((function(){i(!0),p.get("/auth/me").then((function(e){var t=e.data;m(t),i(!1)})).catch((function(){m(null),i(!1)}))}),[f]),a?r.a.createElement(d.a,null):s?r.a.createElement(me,{value:{user:s,setUser:m,api:p,setToken:g}},r.a.createElement(Ra,null,r.a.createElement(va,null))):r.a.createElement(me,{value:{user:s,api:p,setToken:g}},r.a.createElement(Ra,null,r.a.createElement(Na,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(La,null),document.getElementById("root"))}},[[494,1,2]]]);
//# sourceMappingURL=main.d874a000.chunk.js.map